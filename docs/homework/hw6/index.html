<!-- 
    HW6 Starter code
     Modified from: https://codepen.io/cathydutton/pen/GBcvo
-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HW6 - JQuery</title>
    <style>
        h1 {
            color: white;
        }
        h1 #extra-word {
            background-color: #ffa31a;
            color: #1b1b1b;
            padding: .15%;
            border-radius: 5px;
        }
        .timer-background {
            background-color: white;
            opacity: 1;
        }
        .button {
            align-items: center;
            border: 2px solid #808080;
            background-color: #ffa31a;
            font-weight: bold;
        }
    </style>
    <script src="https://code.jquery.com/jquery-3.6.1.min.js" integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ=" crossorigin="anonymous"></script>
    <script>
        $("document").ready(function () {
            playSound(0);
            var seconds = 00;
            var tens = 00;
            var appendTens = $("#tens")
            var appendSeconds = $("#seconds")
            var buttonStart = $("#button-start");
            var buttonStop = $("#button-stop");
            var buttonReset = $("#button-reset");
            var interval, interval2;
            var opacity = 1.00, brightenUp = false;

            buttonStart.click(function () {
                playSound(1);
                $(".timer-background").css("background-color", "#ffa31a");
                clearInterval(interval);
                clearInterval(interval2);
                interval = setInterval(startTimer, 10);
                interval2 = setInterval(animateTimerBackground, 10);
            });

            buttonStop.click(function () {
                playSound(2);
                if (seconds != 00 || tens != 00)
                    $(".timer-background").css("background-color", "#808080");
                clearInterval(interval);
                clearInterval(interval2);
                $(".timer-background").css("opacity", "1");
            });

            buttonReset.click(function () {
                playSound(3);
                $(".timer-background").css("background-color", "white");
                clearInterval(interval);
                clearInterval(interval2);
                tens = "00";
                seconds = "00";
                appendTens.html(tens);
                appendSeconds.html(seconds);
                $(".timer-background").css("opacity", "1");
            });

            function startTimer() {
                tens++;

                if (tens < 9) {
                    appendTens.html("0" + tens);
                }

                if (tens > 9) {
                    appendTens.html(tens);

                }

                if (tens > 99) {
                    console.log("seconds");
                    seconds++;
                    appendSeconds.html("0" + seconds);
                    tens = 0;
                    appendTens.html("0" + 0);
                }

                if (seconds > 9) {
                    appendSeconds.html(seconds);
                }
            }

            function animateTimerBackground() {
                // if (tens % 2 == 0)
                //     $(".timer-background").css("opacity", "1");
                // if (tens % 2 == 1)
                //     $(".timer-background").css("opacity", ".9");
                // if (tens % 2 == 2)
                //     $(".timer-background").css("opacity", ".8");
                if (!brightenUp && opacity == 1 || opacity > .8) {
                    opacity -= (.01).toFixed(2);
                    $(".timer-background").css("opacity", opacity);
                }
                else if (opacity == .8) {
                    brightenUp = true;
                    console.log("brightenUp is now true");
                }
                else if (brightenUp && opacity == .8 || opacity < 1) {
                    opacity += (.01).toFixed(2);
                    $(".timer-background").css("opacity", opacity);
                }
                else if (opacity == 1) {
                    brightenUp = false;
                    console.log("brightenUp is now false");
                }
                console.log(opacity)
            }

            function playSound(track) {
                var audio;
                switch (track) {
                    case 0: audio = new Audio("intro.wav"); break;
                    case 1: audio = new Audio("sound1.wav"); break;
                    case 2: audio = new Audio("sound2.wav"); break;
                    case 2: audio = new Audio("sound3.wav"); break;
                }
                audio.play();
            }

            $("p").attr("class", "timer-background")

            buttonStart.attr("class", "button")
            buttonStop.attr("class", "button")
            buttonReset.attr("class", "button")

            $(".wrapper").css("background-color", "#292929")
            $(".wrapper").css("border", "2px solid black");
            $(".wrapper").css("font-family", "Helvetica");
            $(".wrapper").css("text-align", "center");
        });
    </script>
</head>
<body>
    <div class="wrapper">
        <h1>JQuery <span id="extra-word">Stopwatch</span></h1>
        <p id="timer"><span id="seconds">00</span>:<span id="tens">00</span></p>
        <button id="button-start">Start</button>
        <button id="button-stop">Stop</button>
        <button id="button-reset">Reset</button>
    </div>
</body>
</html>